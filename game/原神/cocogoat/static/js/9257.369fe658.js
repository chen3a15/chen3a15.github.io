"use strict";(self["define"]=self["define"]||[]).push([[9257],{35200:function(e,n,t){t.d(n,{zG:function(){return d}});var r=t(35512),o=t(19390),a=t(44847),s=t(7728),c=t(28341),i=t(15748),u=t(3146),l=t(40586);function p(){const e=(0,s.G)((()=>(console.log("[worker-macro] webpack"),new s.G(new URL(t.p+t.u(1584),t.b))))),n=(0,r.Ud)(e);return{worker:n,_worker:e}}function m(){const{worker:e,_worker:n}=p(),{worker:t,_worker:r}=p(),{scannerOnImage:s,scannerOnLine:m,recognizeAchievement:f}=e,{recognizeAchievement:d,scannerOnLine:v}=t;let h=(e,n)=>{};const g=e=>{h=e},w=e=>{throw h(-99),e};n.addEventListener("error",w),r.addEventListener("error",w);const y=(async()=>{try{const[n,r]=(0,a.LS)(),s=c.hasSIMD?"ort-wasm-simd.wasm":"ort-wasm.wasm",p=c.hasSIMD?"opencv-simd.wasm":"opencv-normal.wasm";await n,await(0,a.sB)([s,p,"ppocr.ort"],(e=>h(e)),r);const m=(0,l.Z)(u.ag.amos);await Promise.all([e.setResources(o.ZP),t.setResources(o.ZP),e.initAchievementMap(i["default"],m),t.initAchievementMap(i["default"],m)]),h(100)}catch(s){throw h(-1,s),s}n.removeEventListener("error",w),r.removeEventListener("error",w),await Promise.all([e.init(),t.init()])})();return{recognizeAchievement:d,recognizeAchievement2:f,scannerOnLine:v,scannerOnLine2:m,scannerOnImage:s,initPromise:y,workerCV:e,workerOCR:t,onProgress:g}}let f;function d(){return f||(f=m()),f}},53374:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(10311);function o(e,n,t,o,a,s){const c=(0,r.resolveComponent)("router-view"),i=(0,r.resolveComponent)("Loader");return e.done?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0})):((0,r.openBlock)(),(0,r.createBlock)(i,{key:1,source:e.source,instance:e.instance,onDone:n[0]||(n[0]=n=>e.done=!0)},null,8,["source","instance"]))}var a=t(96181),s=(0,r.defineComponent)({components:{Loader:a.Z},props:{source:{type:String,required:!0},instance:{type:Function,required:!0}},setup(){return{done:(0,r.ref)(!1)}}}),c=t(14545);const i=(0,c.Z)(s,[["render",o]]);var u=i},36835:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(10311);function o(e,n,t,o,a,s){const c=(0,r.resolveComponent)("Router");return(0,r.openBlock)(),(0,r.createBlock)(c,{source:"achievement",instance:e.getScannerInstance},null,8,["instance"])}var a=t(53374),s=t(35200),c=(0,r.defineComponent)({components:{Router:a.Z},setup(){return{getScannerInstance:s.zG}}}),i=t(14545);const u=(0,i.Z)(c,[["render",o]]);var l=u},35512:function(e,n,t){t.d(n,{Jj:function(){return p},Ud:function(){return d}});t(23662),t(77253),t(16329);const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),c=e=>"object"===typeof e&&null!==e||"function"===typeof e,i={canHandle:e=>c(e)&&e[r],serialize(e){const{port1:n,port2:t}=new MessageChannel;return p(e,n),[t,[t]]},deserialize(e){return e.start(),d(e)}},u={canHandle:e=>c(e)&&s in e,serialize({value:e}){let n;return n=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[n,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},l=new Map([["proxy",i],["throw",u]]);function p(e,n=self){n.addEventListener("message",(function t(r){if(!r||!r.data)return;const{id:o,type:a,path:c}=Object.assign({path:[]},r.data),i=(r.data.argumentList||[]).map(b);let u;try{const n=c.slice(0,-1).reduce(((e,n)=>e[n]),e),t=c.reduce(((e,n)=>e[n]),e);switch(a){case"GET":u=t;break;case"SET":n[c.slice(-1)[0]]=b(r.data.value),u=!0;break;case"APPLY":u=t.apply(n,i);break;case"CONSTRUCT":{const e=new t(...i);u=k(e)}break;case"ENDPOINT":{const{port1:n,port2:t}=new MessageChannel;p(e,t),u=E(n,[n])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[s]:0}}Promise.resolve(u).catch((e=>({value:e,[s]:0}))).then((e=>{const[r,s]=L(e);n.postMessage(Object.assign(Object.assign({},r),{id:o}),s),"RELEASE"===a&&(n.removeEventListener("message",t),f(n))}))})),n.start&&n.start()}function m(e){return"MessagePort"===e.constructor.name}function f(e){m(e)&&e.close()}function d(e,n){return h(e,[],n)}function v(e){if(e)throw new Error("Proxy has been released and is not useable")}function h(e,n=[],t=function(){}){let r=!1;const s=new Proxy(t,{get(t,o){if(v(r),o===a)return()=>S(e,{type:"RELEASE",path:n.map((e=>e.toString()))}).then((()=>{f(e),r=!0}));if("then"===o){if(0===n.length)return{then:()=>s};const t=S(e,{type:"GET",path:n.map((e=>e.toString()))}).then(b);return t.then.bind(t)}return h(e,[...n,o])},set(t,o,a){v(r);const[s,c]=L(a);return S(e,{type:"SET",path:[...n,o].map((e=>e.toString())),value:s},c).then(b)},apply(t,a,s){v(r);const c=n[n.length-1];if(c===o)return S(e,{type:"ENDPOINT"}).then(b);if("bind"===c)return h(e,n.slice(0,-1));const[i,u]=w(s);return S(e,{type:"APPLY",path:n.map((e=>e.toString())),argumentList:i},u).then(b)},construct(t,o){v(r);const[a,s]=w(o);return S(e,{type:"CONSTRUCT",path:n.map((e=>e.toString())),argumentList:a},s).then(b)}});return s}function g(e){return Array.prototype.concat.apply([],e)}function w(e){const n=e.map(L);return[n.map((e=>e[0])),g(n.map((e=>e[1])))]}const y=new WeakMap;function E(e,n){return y.set(e,n),e}function k(e){return Object.assign(e,{[r]:!0})}function L(e){for(const[n,t]of l)if(t.canHandle(e)){const[r,o]=t.serialize(e);return[{type:"HANDLER",name:n,value:r},o]}return[{type:"RAW",value:e},y.get(e)||[]]}function b(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function S(e,n,t){return new Promise((r=>{const o=A();e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===o&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),t)}))}function A(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}},40586:function(e,n,t){var r=t(81319),o=1,a=4;function s(e){return(0,r.Z)(e,o|a)}n["Z"]=s}}]);