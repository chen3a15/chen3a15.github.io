"use strict";(self["define"]=self["define"]||[]).push([[5303],{58869:function(e,t,a){a(75452)},27372:function(e,t,a){a.d(t,{p8:function(){return q},Ub:function(){return F}});a(25766);var l=a(10311),n=a(77707),o=a(8780),r=a(91239),s=a(45126),i=a(17398),u=a(81376);const c=(0,i.o8)({tabs:{type:(0,i.Cq)(Array),default:()=>(0,u.N)([])}});var d=a(67311);a(23662);const p=Symbol("tabsRootContextKey");var v=a(58867),b=a(66384);const f={name:"ElTabBar"},m=(0,l.defineComponent)({...f,props:c,setup(e,{expose:t}){const a=e,n="ElTabBar",o=(0,l.getCurrentInstance)(),i=(0,l.inject)(p);i||(0,v._)(n,"<el-tabs><el-tab-bar /></el-tabs>");const u=(0,b.s)("tabs"),c=(0,l.ref)(),d=(0,l.ref)(),f=()=>{let e=0,t=0;const l=["top","bottom"].includes(i.props.tabPosition)?"width":"height",n="width"===l?"x":"y";return a.tabs.every((s=>{var i,u,c,d;const p=null==(u=null==(i=o.parent)?void 0:i.refs)?void 0:u[`tab-${s.paneName}`];if(!p)return!1;if(!s.active)return!0;t=p[`client${(0,r.kC)(l)}`];const v="x"===n?"left":"top";e=p.getBoundingClientRect()[v]-(null!=(d=null==(c=p.parentElement)?void 0:c.getBoundingClientRect()[v])?d:0);const b=window.getComputedStyle(p);return"width"===l&&(a.tabs.length>1&&(t-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),e+=Number.parseFloat(b.paddingLeft)),!1})),{[l]:`${t}px`,transform:`translate${(0,r.kC)(n)}(${e}px)`}},m=()=>d.value=f();return(0,l.watch)((()=>a.tabs),(async()=>{await(0,l.nextTick)(),m()}),{immediate:!0}),(0,s.yU7)(c,(()=>m())),t({ref:c,update:m}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{ref_key:"barRef",ref:c,class:(0,l.normalizeClass)([(0,l.unref)(u).e("active-bar"),(0,l.unref)(u).is((0,l.unref)(i).props.tabPosition)]),style:(0,l.normalizeStyle)(d.value)},null,6))}});var h=(0,d.Z)(m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]),g=a(57035);const y=(0,i.o8)({panes:{type:(0,i.Cq)(Array),default:()=>(0,u.N)([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:(0,i.Cq)(Function),default:r.dG},onTabRemove:{type:(0,i.Cq)(Function),default:r.dG},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),N="ElTabNav",C=(0,l.defineComponent)({name:N,props:y,setup(e,{expose:t}){const a=(0,l.getCurrentInstance)(),i=(0,l.inject)(p);i||(0,v._)(N,"<el-tabs><tab-nav /></el-tabs>");const u=(0,b.s)("tabs"),c=(0,s.xKQ)(),d=(0,s.vou)(),f=(0,l.ref)(),m=(0,l.ref)(),y=(0,l.ref)(),C=(0,l.ref)(!1),k=(0,l.ref)(0),w=(0,l.ref)(!1),T=(0,l.ref)(!0),V=(0,l.computed)((()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height")),x=(0,l.computed)((()=>{const e="width"===V.value?"X":"Y";return{transform:`translate${e}(-${k.value}px)`}})),P=()=>{if(!f.value)return;const e=f.value[`offset${(0,r.kC)(V.value)}`],t=k.value;if(!t)return;const a=t>e?t-e:0;k.value=a},$=()=>{if(!f.value||!m.value)return;const e=m.value[`offset${(0,r.kC)(V.value)}`],t=f.value[`offset${(0,r.kC)(V.value)}`],a=k.value;if(e-a<=t)return;const l=e-a>2*t?a+t:e-t;k.value=l},B=async()=>{const e=m.value;if(!C.value||!y.value||!f.value||!e)return;await(0,l.nextTick)();const t=y.value.querySelector(".is-active");if(!t)return;const a=f.value,n=["top","bottom"].includes(i.props.tabPosition),o=t.getBoundingClientRect(),r=a.getBoundingClientRect(),s=n?e.offsetWidth-r.width:e.offsetHeight-r.height,u=k.value;let c=u;n?(o.left<r.left&&(c=u-(r.left-o.left)),o.right>r.right&&(c=u+o.right-r.right)):(o.top<r.top&&(c=u-(r.top-o.top)),o.bottom>r.bottom&&(c=u+(o.bottom-r.bottom))),c=Math.max(c,0),k.value=Math.min(c,s)},S=()=>{if(!m.value||!f.value)return;const e=m.value[`offset${(0,r.kC)(V.value)}`],t=f.value[`offset${(0,r.kC)(V.value)}`],a=k.value;if(t<e){const a=k.value;C.value=C.value||{},C.value.prev=a,C.value.next=a+t<e,e-a<t&&(k.value=e-t)}else C.value=!1,a>0&&(k.value=0)},R=e=>{const t=e.code,{up:a,down:l,left:n,right:o}=g.n;if(![a,l,n,o].includes(t))return;const r=Array.from(e.currentTarget.querySelectorAll("[role=tab]")),s=r.indexOf(e.target);let i;i=t===n||t===a?0===s?r.length-1:s-1:s<r.length-1?s+1:0,r[i].focus(),r[i].click(),E()},E=()=>{T.value&&(w.value=!0)},_=()=>w.value=!1;return(0,l.watch)(c,(e=>{"hidden"===e?T.value=!1:"visible"===e&&setTimeout((()=>T.value=!0),50)})),(0,l.watch)(d,(e=>{e?setTimeout((()=>T.value=!0),50):T.value=!1})),(0,s.yU7)(y,S),(0,l.onMounted)((()=>setTimeout((()=>B()),0))),(0,l.onUpdated)((()=>S())),t({scrollToActiveTab:B,removeFocus:_}),(0,l.watch)((()=>e.panes),(()=>a.update()),{flush:"post"}),()=>{const t=C.value?[(0,l.createVNode)("span",{class:[u.e("nav-prev"),u.is("disabled",!C.value.prev)],onClick:P},[(0,l.createVNode)(n.gn,null,{default:()=>[(0,l.createVNode)(o.XdH,null,null)]})]),(0,l.createVNode)("span",{class:[u.e("nav-next"),u.is("disabled",!C.value.next)],onClick:$},[(0,l.createVNode)(n.gn,null,{default:()=>[(0,l.createVNode)(o.olP,null,null)]})])]:null,a=e.panes.map(((t,a)=>{var r,s;const c=t.props.name||t.index||`${a}`,d=t.isClosable||e.editable;t.index=`${a}`;const p=d?(0,l.createVNode)(n.gn,{class:"is-icon-close",onClick:a=>e.onTabRemove(t,a)},{default:()=>[(0,l.createVNode)(o.x8P,null,null)]}):null,v=(null==(s=(r=t.slots).label)?void 0:s.call(r))||t.props.label,b=t.active?0:-1;return(0,l.createVNode)("div",{ref:`tab-${c}`,class:[u.e("item"),u.is(i.props.tabPosition),u.is("active",t.active),u.is("disabled",t.props.disabled),u.is("closable",d),u.is("focus",w.value)],id:`tab-${c}`,key:`tab-${c}`,"aria-controls":`pane-${c}`,role:"tab","aria-selected":t.active,tabindex:b,onFocus:()=>E(),onBlur:()=>_(),onClick:a=>{_(),e.onTabClick(t,c,a)},onKeydown:a=>{!d||a.code!==g.n["delete"]&&a.code!==g.n.backspace||e.onTabRemove(t,a)}},[v,p])}));return(0,l.createVNode)("div",{ref:y,class:[u.e("nav-wrap"),u.is("scrollable",!!C.value),u.is(i.props.tabPosition)]},[t,(0,l.createVNode)("div",{class:u.e("nav-scroll"),ref:f},[(0,l.createVNode)("div",{class:[u.e("nav"),u.is(i.props.tabPosition),u.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:m,style:x.value,role:"tablist",onKeydown:R},[e.type?null:(0,l.createVNode)(h,{tabs:[...e.panes]},null),a])])])}}});var k=a(5650),w=a(72811);const T=(0,i.o8)({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:(0,i.Cq)(Function),default:()=>!0},stretch:Boolean}),V=e=>(0,r.HD)(e)||(0,k.hj)(e),x={[w.f_]:e=>V(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>V(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>V(e),"tab-add":()=>!0};var P=(0,l.defineComponent)({name:"ElTabs",props:T,emits:x,setup(e,{emit:t,slots:a,expose:r}){const s=(0,b.s)("tabs"),i=(0,l.ref)(),u=(0,l.reactive)({}),c=(0,l.ref)(e.modelValue||e.activeName||"0"),d=e=>{c.value=e,t(w.f_,e),t("tab-change",e)},v=async t=>{var a,l,n;if(c.value!==t)try{const o=await(null==(a=e.beforeLeave)?void 0:a.call(e,t,c.value));!1!==o&&(d(t),null==(n=null==(l=i.value)?void 0:l.removeFocus)||n.call(l))}catch(o){}},f=(e,a,l)=>{e.props.disabled||(v(a),t("tab-click",e,l))},m=(e,a)=>{e.props.disabled||(a.stopPropagation(),t("edit",e.props.name,"remove"),t("tab-remove",e.props.name))},h=()=>{t("edit",void 0,"add"),t("tab-add")};(0,l.watch)((()=>e.activeName),(e=>v(e))),(0,l.watch)((()=>e.modelValue),(e=>v(e))),(0,l.watch)(c,(async()=>{var e;null==(e=i.value)||e.scrollToActiveTab()}));{const t=e=>u[e.uid]=e,a=e=>delete u[e];(0,l.provide)(p,{props:e,currentName:c,registerPane:t,unregisterPane:a})}return r({currentName:c}),()=>{const t=e.editable||e.addable?(0,l.createVNode)("span",{class:s.e("new-tab"),tabindex:"0",onClick:h,onKeydown:e=>{e.code===g.n.enter&&h()}},[(0,l.createVNode)(n.gn,{class:s.is("icon-plus")},{default:()=>[(0,l.createVNode)(o.v37,null,null)]})]):null,r=(0,l.createVNode)("div",{class:[s.e("header"),s.is(e.tabPosition)]},[t,(0,l.createVNode)(C,{ref:i,currentName:c.value,editable:e.editable,type:e.type,panes:Object.values(u),stretch:e.stretch,onTabClick:f,onTabRemove:m},null)]),d=(0,l.createVNode)("div",{class:s.e("content")},[(0,l.renderSlot)(a,"default")]);return(0,l.createVNode)("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:"card"===e.type,[s.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[r,d]:[d,r]])}}});const $=(0,i.o8)({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),B=["id","aria-hidden","aria-labelledby"],S={name:"ElTabPane"},R=(0,l.defineComponent)({...S,props:$,setup(e){const t=e,a="ElTabPane",n=(0,l.getCurrentInstance)(),o=(0,l.useSlots)(),r=(0,l.inject)(p);r||(0,v._)(a,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=(0,b.s)("tab-pane"),i=(0,l.ref)(),u=(0,l.computed)((()=>t.closable||r.props.closable)),c=(0,k.Rc)((()=>r.currentName.value===(t.name||i.value))),d=(0,l.ref)(c.value),f=(0,l.computed)((()=>t.name||i.value)),m=(0,k.Rc)((()=>!t.lazy||d.value||c.value));(0,l.watch)(c,(e=>{e&&(d.value=!0)}));const h=(0,l.reactive)({uid:n.uid,slots:o,props:t,paneName:f,active:c,index:i,isClosable:u});return(0,l.onMounted)((()=>{r.registerPane(h)})),(0,l.onUnmounted)((()=>{r.unregisterPane(h.uid)})),(e,t)=>(0,l.unref)(m)?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,id:`pane-${(0,l.unref)(f)}`,class:(0,l.normalizeClass)((0,l.unref)(s).b()),role:"tabpanel","aria-hidden":!(0,l.unref)(c),"aria-labelledby":`tab-${(0,l.unref)(f)}`},[(0,l.renderSlot)(e.$slots,"default")],10,B)),[[l.vShow,(0,l.unref)(c)]]):(0,l.createCommentVNode)("v-if",!0)}});var E=(0,d.Z)(R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]),_=a(6700);const F=(0,_.nz)(P,{TabPane:E}),q=(0,_.dp)(E)},67376:function(e,t,a){a(75452)}}]);