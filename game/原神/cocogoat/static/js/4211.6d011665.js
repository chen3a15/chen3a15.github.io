(self["define"]=self["define"]||[]).push([[4211,7442],{5461:function(e,t,n){n(61811),n(90867),function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",r="second",a="minute",s="hour",i="day",c="week",l="month",u="quarter",d="year",f="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},g={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+y(o,2,"0")+":"+y(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,l),a=n-r<0,s=t.clone().add(o+(a?-1:1),l);return+(-(o+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:i,D:f,h:s,m:a,s:r,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",E={};E[w]=v;var b=function(e){return e instanceof $},C=function e(t,n,o){var r;if(!t)return w;if("string"==typeof t){var a=t.toLowerCase();E[a]&&(r=a),n&&(E[a]=n,r=a);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var i=t.name;E[i]=t,r=i}return!o&&r&&(w=r),r||!o&&w},N=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new $(n)},k=g;k.l=C,k.i=b,k.w=function(e,t){return N(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function v(e){this.$L=C(e.locale,null,!0),this.parse(e)}var y=v.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(p);if(o){var r=o[2]-1||0,a=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return k},y.isValid=function(){return!(this.$d.toString()===m)},y.isSame=function(e,t){var n=N(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return N(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<N(e)},y.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,o=!!k.u(t)||t,u=k.p(e),m=function(e,t){var r=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(i)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return o?m(1,0):m(31,11);case l:return o?m(1,v):m(0,v+1);case c:var w=this.$locale().weekStart||0,E=(h<w?h+7:h)-w;return m(o?y-E:y+(6-E),v);case i:case f:return p(g+"Hours",0);case s:return p(g+"Minutes",1);case a:return p(g+"Seconds",2);case r:return p(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=k.p(e),u="set"+(this.$u?"UTC":""),m=(n={},n[i]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[c],p=c===i?this.$D+(t-this.$W):t;if(c===l||c===d){var h=this.clone().set(f,1);h.$d[m](p),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[k.p(e)]()},y.add=function(o,u){var f,m=this;o=Number(o);var p=k.p(u),h=function(e){var t=N(m);return k.w(t.date(t.date()+Math.round(e*o)),m)};if(p===l)return this.set(l,this.$M+o);if(p===d)return this.set(d,this.$y+o);if(p===i)return h(1);if(p===c)return h(7);var v=(f={},f[a]=t,f[s]=n,f[r]=e,f)[p]||1,y=this.$d.getTime()+o*v;return k.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=k.z(this),a=this.$H,s=this.$m,i=this.$M,c=n.weekdays,l=n.months,u=function(e,n,r,a){return e&&(e[n]||e(t,o))||r[n].slice(0,a)},d=function(e){return k.s(a%12||12,e,"0")},f=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:k.s(i+1,2,"0"),MMM:u(n.monthsShort,i,l,3),MMMM:u(l,i),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:k.s(a,2,"0"),h:d(1),hh:d(2),a:f(a,s,!0),A:f(a,s,!1),m:String(s),mm:k.s(s,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:r};return o.replace(h,(function(e,t){return t||p[e]||r.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(o,f,m){var p,h=k.p(f),v=N(o),y=(v.utcOffset()-this.utcOffset())*t,g=this-v,w=k.m(this,v);return w=(p={},p[d]=w/12,p[l]=w,p[u]=w/3,p[c]=(g-y)/6048e5,p[i]=(g-y)/864e5,p[s]=g/n,p[a]=g/t,p[r]=g/e,p)[h]||g,m?w:k.a(w)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return E[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=C(e,t,!0);return o&&(n.$L=o),n},y.clone=function(){return k.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),S=$.prototype;return N.prototype=S,[["$ms",o],["$s",r],["$m",a],["$H",s],["$W",i],["$M",l],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),N.extend=function(e,t){return e.$i||(e(t,$,N),e.$i=!0),N},N.locale=C,N.isDayjs=b,N.unix=function(e){return N(1e3*e)},N.en=E[w],N.Ls=E,N.p={},N}))},40:function(e,t,n){"use strict";n(77253);const o=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),r=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},a=({clearTimeout:e,setTimeout:t,willResolve:n})=>(o,{value:a,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(r());let i,c,l;const u=e||clearTimeout,d=()=>{u(i),l(r())},f=()=>{s&&s.removeEventListener("abort",d)},m=new Promise(((e,r)=>{c=()=>{f(),n?e(a):r(a)},l=r,i=(t||setTimeout)(c,o)}));return s&&s.addEventListener("abort",d,{once:!0}),m.clear=()=>{u(i),i=null,c()},m},s=e=>{const t=a({...e,willResolve:!0});return t.reject=a({...e,willResolve:!1}),t.range=(e,n,r)=>t(o(e,n),r),t},i=s();i.createWithTimers=s,e.exports=i,e.exports["default"]=i},6385:function(e,t,n){n(23662),n(77253),n(43928),function(t,n){e.exports=n()}(0,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===("undefined"===typeof e?"undefined":o(e))},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",n=!0,o=this;if(!this.isObject(e))return e;function r(e,a){var s=o.encode,i=o.type(e);if("array"==i)e.forEach((function(e,t){o.isObject(e)||(t=""),r(e,a+"%5B"+t+"%5D")}));else if("object"==i)for(var c in e)r(e[c],a?a+"%5B"+s(c)+"%5D":s(c));else n||(t+="&"),n=!1,t+=a+"="+s(e)}return r(e,""),t},merge:function(e,t){for(var n in t)e.hasOwnProperty(n)?this.isObject(t[n],1)&&this.isObject(e[n],1)&&this.merge(e[n],t[n]):e[n]=t[n];return e}}},,function(e,t,n){var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(0),s="undefined"!==typeof document,i=function(){function e(t){function n(e){var t=void 0,n=void 0;function o(){e.p=t=n=null}a.merge(e,{lock:function(){t||(e.p=new Promise((function(e,o){t=e,n=o})))},unlock:function(){t&&(t(),o())},clear:function(){n&&(n("cancel"),o())}})}r(this,e),this.engine=t||XMLHttpRequest,this.default=this;var o=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},s=o.request,i=o.response;n(i),n(s),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return o(e,[{key:"request",value:function(e,t,n){var o=this,r=new this.engine,i="Content-Type",c=i.toLowerCase(),l=this.interceptors,u=l.request,d=l.response,f=u.handler,m=new Promise((function(l,m){function p(e){return e&&e.then&&e.catch}function h(e,t){e?e.then((function(){t()})):t()}function v(n){t=n.body,e=a.trim(n.url);var o=a.trim(n.baseURL||"");if(e||!s||o||(e=location.href),0!==e.indexOf("http")){var u="/"===e[0];if(!o&&s){var f=location.pathname.split("/");f.pop(),o=location.protocol+"//"+location.host+(u?"":f.join("/"))}if("/"!==o[o.length-1]&&(o+="/"),e=o+(u?e.substr(1):e),s){var v=document.createElement("a");v.href=e,e=v.href}}var y=a.trim(n.responseType||""),g=-1!==["GET","HEAD","DELETE","OPTION"].indexOf(n.method),w=a.type(t),E=n.params||{};g&&"object"===w&&(E=a.merge(t,E)),E=a.formatParams(E);var b=[];E&&b.push(E),g&&t&&"string"===w&&b.push(t),b.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+b.join("&")),r.open(n.method,e);try{r.withCredentials=!!n.withCredentials,r.timeout=n.timeout||0,"stream"!==y&&(r.responseType=y)}catch(x){}var C=n.headers[i]||n.headers[c],N="application/x-www-form-urlencoded";for(var k in a.trim((C||"").toLowerCase())===N?t=a.formatParams(t):a.isFormData(t)||-1===["object","array"].indexOf(a.type(t))||(N="application/json;charset=utf-8",t=JSON.stringify(t)),C||g||(n.headers[i]=N),n.headers)if(k===i&&a.isFormData(t))delete n.headers[k];else try{r.setRequestHeader(k,n.headers[k])}catch(x){}function $(e,t,o){h(d.p,(function(){if(e){o&&(t.request=n);var r=e.call(d,t,Promise);t=void 0===r?t:r}p(t)||(t=Promise[0===o?"resolve":"reject"](t)),t.then((function(e){l(e)})).catch((function(e){m(e)}))}))}function S(e){e.engine=r,$(d.onerror,e,-1)}function V(e,t){this.message=e,this.status=t}r.onload=function(){try{var e=r.response||r.responseText;e&&n.parseJson&&-1!==(r.getResponseHeader(i)||"").indexOf("json")&&!a.isObject(e)&&(e=JSON.parse(e));var t=r.responseHeaders;if(!t){t={};var o=(r.getAllResponseHeaders()||"").split("\r\n");o.pop(),o.forEach((function(e){if(e){var n=e.split(":")[0];t[n]=r.getResponseHeader(n)}}))}var s=r.status,c=r.statusText,l={data:e,headers:t,status:s,statusText:c};if(a.merge(l,r._response),s>=200&&s<300||304===s)l.engine=r,l.request=n,$(d.handler,l,0);else{var u=new V(c,s);u.response=l,S(u)}}catch(u){S(new V(u.msg,r.status))}},r.onerror=function(e){S(new V(e.msg||"Network Error",0))},r.ontimeout=function(){S(new V("timeout [ "+r.timeout+"ms ]",1))},r._options=n,setTimeout((function(){r.send(g?null:t)}),0)}a.isObject(e)&&(n=e,e=n.url),n=n||{},n.headers=n.headers||{},h(u.p,(function(){a.merge(n,JSON.parse(JSON.stringify(o.config)));var r=n.headers;r[i]=r[i]||r[c]||"",delete r[c],n.body=t||n.body,e=a.trim(e||""),n.method=n.method.toUpperCase(),n.url=e;var s=n;f&&(s=f.call(u,n,Promise)||n),p(s)||(s=Promise.resolve(s)),s.then((function(e){e===n?v(e):l(e)}),(function(e){m(e)}))}))}));return m.engine=r,m}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();i.default=i,["get","post","put","patch","head","delete"].forEach((function(e){i.prototype[e]=function(t,n,o){return this.request(t,n,a.merge({method:e},o))}})),["lock","unlock","clear"].forEach((function(e){i.prototype[e]=function(){this.interceptors.request[e]()}})),e.exports=i}])}))},44459:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i}});var o=n.p+"static/img/yuanshi.469d3f0f.png",r=n.p+"static/img/openscreenshare.a7389a8f.png";const a={[o]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/fb334cf8fd21e669ed6e7aa95890e2b5_2523388253479178875.png",[r]:"https://upload-bbs.mihoyo.com/upload/2022/12/26/300350281/aca41a90b6d80f17c9b2f1d663e49625_7075418291258186431.png"},s={yuanshi:o,openscreenshare:r};var i=e=>{const t=s[e]||e;return a[t]||t}},33314:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var o=n(60017);n(77253),n(43928);function r(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map((function(e){e(n)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,n)}))}}}var a=n(95144),s=n(6385),i=n.n(s);class c{constructor(e=32333){(0,o.Z)(this,"port",32333),(0,o.Z)(this,"token",""),(0,o.Z)(this,"hwnd",0),(0,o.Z)(this,"version",""),(0,o.Z)(this,"ev",r()),(0,o.Z)(this,"client",new(i())),(0,o.Z)(this,"ws",void 0),(0,o.Z)(this,"MOUSEEVENTF_ABSOLUTE",32768),(0,o.Z)(this,"MOUSEEVENTF_LEFTDOWN",2),(0,o.Z)(this,"MOUSEEVENTF_LEFTUP",4),(0,o.Z)(this,"MOUSEEVENTF_MIDDLEDOWN",32),(0,o.Z)(this,"MOUSEEVENTF_MIDDLEUP",64),(0,o.Z)(this,"MOUSEEVENTF_MOVE",1),(0,o.Z)(this,"MOUSEEVENTF_RIGHTDOWN",8),(0,o.Z)(this,"MOUSEEVENTF_RIGHTUP",16),(0,o.Z)(this,"MOUSEEVENTF_WHEEL",2048),(0,o.Z)(this,"MOUSEEVENTF_XDOWN",128),(0,o.Z)(this,"MOUSEEVENTF_XUP",256),(0,o.Z)(this,"MOUSEEVENTF_HWHEEL",4096),this.port=e,this.client.config.baseURL=`http://localhost:${this.port}`,this.client.interceptors.request.use((e=>(this.token&&(e.headers["Authorization"]=`Bearer ${this.token}`),""===e.headers["Content-Type"]&&delete e.headers["Content-Type"],e))),this.client.interceptors.response.use(void 0,(e=>{const t=e;return 410===t.status?(console.warn("Control stopped by user"),new Error("ECANCEL")):e}))}async launch(){const e="cocogoat-control://launch",t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),setTimeout((()=>{document.body.removeChild(t)}),1e3)}async check(){try{const{data:e}=await this.client.get("/",{},{timeout:800});return this.version=e.version,!0}catch(e){return!1}}async authorize(){if(this.ws)return!0;try{const{data:e}=await this.client.post("/token");this.token=e.token,this.hwnd=e.hwnd||0;const t=new WebSocket(`ws://localhost:${this.port}/ws/${this.token}`);return t.onmessage=e=>{const t=JSON.parse(e.data);this.ev.emit(t.id||t.action,t.data)},t.onclose=()=>{this.ws=void 0},await new Promise((e=>{t.onopen=e})),this.ws=t,!0}catch(e){const t=e;if(401===t.status)return!1;throw e}}wsInvoke(e,t,n){if(!this.ws)throw new Error("WebSocket not connected");const o=t+(n?`?${(0,a.stringify)(n)}`:""),r=Math.round(1e3*Date.now()+1e3*Math.random()).toString(16),s={id:r,action:"api",data:{url:o,method:e}},i=new Promise((e=>{this.ev.on(r,e)}));return this.ws.send(JSON.stringify(s)),i}async mouse_event(e,t,n,o,r=1){return this.wsInvoke("POST","/api/mouse_event",{dwFlags:e,dx:t,dy:n,dwData:o,repeat:r})}async keybd_event(e,t,n){return this.wsInvoke("POST","/api/keybd_event",{bVk:e,bScan:t,dwFlags:n})}async sendMessage(e,t,n,o){return this.wsInvoke("POST","/api/SendMessage",{hWnd:e,Msg:t,wParam:n,lParam:o})}async SetCursorPos(e,t){return this.wsInvoke("POST","/api/SetCursorPos",{x:e,y:t})}async listWindows(){return(await this.wsInvoke("GET","/api/windows")).body}async getWindow(e){return(await this.wsInvoke("GET","/api/windows/"+e)).body}async activeWindow(e){return await this.wsInvoke("PATCH","/api/windows/"+e)}async getMonitor(){return(await this.wsInvoke("GET","/api/monitors")).body}async toAbsolute(e,t,n,{dx:o=1,dy:r=1,window:a=null}={dx:1,dy:1,window:null}){const s=a||await this.getWindow(e),i=1===o?1:s.width/o,c=1===r?1:s.height/r;return{x:t*i+s.x,y:n*c+s.y,win:s}}}},97442:function(e,t,n){"use strict";n.d(t,{HU:function(){return u},ik:function(){return c},ts:function(){return s}});var o=n(10311);const r={global:"https://77.cocogoat.work",cn:"https://77.cocogoat.cn"};let a=navigator.language.startsWith("zh")?"cn":"global";const s=(0,o.ref)(""),i=(0,o.ref)("info"),c=(0,o.ref)("");let l;const u=async(e="",t="default")=>(l||(l=d(a),a=await l),await l,r["default"===t?a:t]+e),d=async e=>{const t=await r[e]+"/status";try{const e=await fetch(t);if(e.ok){const t=await e.json();if(s.value=t.msg,i.value=t.typ,c.value=t.smsg,r[t.region])return t.region}}catch(n){return console.error("API Region Probe Faild",n),"global"===e?"cn":"global"}return e}},25194:function(e,t,n){"use strict";n.d(t,{h:function(){return r},s:function(){return o}});n(77253);async function o(e,t,n){await e(!1);const o=performance.now();await e(await t()),await n();const r=performance.now();return await new Promise(((n,a)=>{const s=async()=>{const i=performance.now();i-o>=1e3&&a(new Error("Latency measurement timeout"));const c=t(),l=await e(c);l>10?n({latency:i-r,result:l,captureReady:o,controlSent:r,diffFound:i,image:c}):requestAnimationFrame(s)};requestAnimationFrame(s)}))}async function r(e,t,{timeout:n=3e4,interval:o=0,threhold:r=10,signal:a=new AbortSignal,afterCapture:s=(async()=>{})}){await e(!1);const i=performance.now();return await e(await t()),await s(),await new Promise(((s,c)=>{const l=async()=>{const o=performance.now();o-i>=n&&c(new Error("Measurement timeout"));const l=await t(),d=await e(l);console.log(d),d>r?s({latency:o-i,result:d,captureReady:i,diffFound:o,image:l}):a.aborted||u()},u=()=>{0==o?requestAnimationFrame(l):setTimeout(l,o)};u()}))}},29453:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(60017),r=(n(77253),n(10311)),a=n(97442);const s=e=>e<1024?e+"B":e<1048576?(e/1024).toFixed(0)+"KB":e<1073741824?(e/1024/1024).toFixed(1)+"MB":(e/1024/1024/1024).toFixed(2)+"GB";class i{constructor(e){(0,o.Z)(this,"name",(0,r.ref)("")),(0,o.Z)(this,"url",(0,r.ref)("")),(0,o.Z)(this,"md5",(0,r.ref)("")),(0,o.Z)(this,"size",(0,r.ref)(0)),(0,o.Z)(this,"version",(0,r.ref)("")),(0,o.Z)(this,"ready",void 0),(0,o.Z)(this,"formattedSize",(0,r.computed)((()=>s(this.size.value)))),this.ready=this.updator(e).then((async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);{const e=await t.json();this.name.value=e.name,this.url.value=e.url,this.md5.value=e.md5,this.size.value=e.size,this.version.value=e.version}return this}))}updator(e){return(0,a.HU)(`/upgrade/${e}.json`)}}},19112:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var o=n(15471),r=(n(30896),n(10311));function a(e,t,n,a,s,i){const c=o.Q0;return(0,r.openBlock)(),(0,r.createBlock)(c,{content:a.buildDesc,"raw-content":""},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)("#"+(0,r.toDisplayString)(a.buildTime),1)])),_:1},8,["content"])}var s=n(5461),i=n.n(s),c={setup(){const e=i()(Number("1699367704886")),t="7b964137",n="✨ feat: v4.2\r\n";return{buildTime:"2311072235",buildDesc:`#${t} - ${e.format("YYYY-MM-DD HH:mm:ss")}${n?"<br/ >"+n.replace(/\n/g,"<br>"):""}`}}},l=n(14545);const u=(0,l.Z)(c,[["render",a]]);var d=u},57385:function(e,t,n){"use strict";n.d(t,{Z:function(){return St}});var o=n(10311);const r={ref:"video",style:{display:"none"}};function a(e,t,n,a,s,i){const c=(0,o.resolveComponent)("c-intro"),l=(0,o.resolveComponent)("c-client"),u=(0,o.resolveComponent)("float-window");return(0,o.openBlock)(),(0,o.createElementBlock)("section",{class:(0,o.normalizeClass)(e.$style.webCapturer)},[1===e.step?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,onRequestCapture:e.requestCapture},null,8,["onRequestCapture"])):2===e.step?((0,o.openBlock)(),(0,o.createBlock)(l,{key:1,control:e.control,onDone:e.afterClient},null,8,["control","onDone"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("video",r,null,512),e.hasPictureInPicture&&e.popup?((0,o.openBlock)(),(0,o.createBlock)(u,{key:2,width:250,height:100,class:(0,o.normalizeClass)(e.$style.floatwindow),onExit:t[0]||(t[0]=t=>e.$emit("exit"))},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"default")])),_:3},8,["class"])):(0,o.createCommentVNode)("",!0)],2)}n(77253);var s=n(29056);n(60388);const i={class:"l"},c=(0,o.createElementVNode)("div",{class:"m"},[(0,o.createElementVNode)("div",{class:"t"},"开始扫描"),(0,o.createElementVNode)("div",{class:"d"},"点击开始后请选择原神窗口（如下图）")],-1),l={class:"r"},u=["src"];function d(e,t,n,r,a,d){const f=(0,o.resolveComponent)("fa-icon"),m=s.mi,p=(0,o.resolveComponent)("footer-component");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(e.$style.intro)},[(0,o.createVNode)(m,{class:"start-btn start-gray",onClick:t[0]||(t[0]=t=>e.$emit("request-capture"))},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(f,{icon:"video"})]),c,(0,o.createElementVNode)("div",l,[(0,o.createVNode)(f,{icon:"angle-right"})])])),_:1}),(0,o.createElementVNode)("img",{src:e.img("openscreenshare"),alt:"请参照图片开始抓屏"},null,8,u),(0,o.createVNode)(p)],2)}var f=n(44459);const m=(0,o.createTextVNode)(" 椰羊 | WebCapturer | "),p=(0,o.createElementVNode)("a",{href:"https://github.com/YuehaiTeam/cocogoat",target:"_blank"},"GitHub",-1),h=(0,o.createTextVNode)(" | "),v=(0,o.createElementVNode)("a",{href:"https://github.com/YuehaiTeam/cocogoat/tree/main/docs",target:"_blank"},"集成文档",-1),y=(0,o.createTextVNode)(" | ");function g(e,t,n,r,a,s){const i=(0,o.resolveComponent)("build-info");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(e.$style.opensource)},[m,p,h,v,y,(0,o.createVNode)(i)],2)}var w=n(19112),E={components:{BuildInfo:w.Z}},b={opensource:"opensource-d87950"},C=n(14545);const N={};N["$style"]=b;const k=(0,C.Z)(E,[["render",g],["__cssModules",N]]);var $=k,S=n(48206),V=n(2849);S.library.add(V.IyC,V.yOZ);var x=(0,o.defineComponent)({components:{FooterComponent:$},emits:["request-capture"],setup(){return{img:f.ZP}}}),T={intro:"intro-ed9efe"};const M={};M["$style"]=T;const D=(0,C.Z)(x,[["render",d],["__cssModules",M]]);var B=D;const O={class:"client-content"},_={key:0},P=(0,o.createElementVNode)("div",{class:"loader-animation"},[(0,o.createElementVNode)("span",{class:"cssload-loader"},[(0,o.createElementVNode)("span",{class:"cssload-loader-inner"})])],-1),F=(0,o.createElementVNode)("div",{class:"loader-text"},"正在连接辅助插件",-1),I=[P,F],z={key:1,class:"not-found"},Z={class:"title"},L={key:0},H={class:"content"},U=(0,o.createTextVNode)(" 由于浏览器限制，自动操作无法在网页完成 "),j={class:"dlink",href:"/extra/client",target:"_blank"},q=(0,o.createTextVNode)(" 如果插件没有自动启动，请点击此处下载辅助插件"),W={class:"absolute-area"},A={class:"l"},R={class:"m"},Y={class:"t"},J=(0,o.createElementVNode)("div",{class:"d"},"记得同意控制键鼠的权限申请",-1),G={class:"r"},K={key:2,class:"not-found"},Q={class:"title"},X={class:"content"},ee={key:0},te=(0,o.createTextVNode)(" 由于浏览器限制，自动操作无法在网页完成"),ne=(0,o.createElementVNode)("br",null,null,-1),oe=(0,o.createTextVNode)(" 模拟键鼠操作需要您运行辅助插件并同意权限申请 "),re=[te,ne,oe],ae={key:1},se=(0,o.createTextVNode)(" 自动操仅支持原神PC客户端"),ie=(0,o.createElementVNode)("br",null,null,-1),ce=(0,o.createTextVNode)(" 暂未支持云游戏、模拟器等，请使用手动操作或重新检查 "),le=[se,ie,ce],ue={class:"absolute-area"},de={class:"l"},fe=(0,o.createElementVNode)("div",{class:"m"},[(0,o.createElementVNode)("div",{class:"t"},"点击重试"),(0,o.createElementVNode)("div",{class:"d"},"记得同意控制键鼠的权限申请")],-1),me={class:"r"},pe={class:"l"},he=(0,o.createElementVNode)("div",{class:"m"},[(0,o.createElementVNode)("div",{class:"t"},"我想手动操作"),(0,o.createElementVNode)("div",{class:"d"},"也可用于投屏或不支持辅助插件的系统")],-1),ve={class:"r"};function ye(e,t,n,r,a,i){const c=(0,o.resolveComponent)("fa-icon"),l=s.mi;return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(e.$style.client)},[(0,o.createElementVNode)("div",O,[e.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",_,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.$style.loader)},I,2)])):(0,o.createCommentVNode)("",!0),e.notFound&&!e.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",z,[(0,o.createElementVNode)("div",Z,[(0,o.createTextVNode)((0,o.toDisplayString)(e.needUpdate?"您的辅助插件版本过低":"自动操作需要辅助插件")+" ",1),e.needUpdate?((0,o.openBlock)(),(0,o.createElementBlock)("small",L,"(v"+(0,o.toDisplayString)(e.version)+")",1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",H,[U,(0,o.createElementVNode)("a",j,[q,(0,o.createElementVNode)("small",null,"（v"+(0,o.toDisplayString)(e.cVersion)+" "+(0,o.toDisplayString)(e.cSize)+"）",1)]),(0,o.createElementVNode)("div",W,[(0,o.createVNode)(l,{class:"start-btn start-gray",onClick:t[0]||(t[0]=t=>e.enable(!1))},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",A,[(0,o.createVNode)(c,{icon:"check"})]),(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("div",Y,(0,o.toDisplayString)(e.needUpdate?"我已更新并重新运行客户端":"我已运行辅助插件"),1),J]),(0,o.createElementVNode)("div",G,[(0,o.createVNode)(c,{icon:"angle-right"})])])),_:1})])])])):(0,o.createCommentVNode)("",!0),e.notFound||!e.denied&&!e.gameNotFound||e.loading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",K,[(0,o.createElementVNode)("div",Q,(0,o.toDisplayString)(e.denied?"您已拒绝辅助插件的权限申请":"未找到可用的原神游戏窗口"),1),(0,o.createElementVNode)("div",X,[e.denied?((0,o.openBlock)(),(0,o.createElementBlock)("div",ee,re)):((0,o.openBlock)(),(0,o.createElementBlock)("div",ae,le)),(0,o.createElementVNode)("div",ue,[(0,o.createVNode)(l,{class:"start-btn start-gray",onClick:t[1]||(t[1]=t=>e.enable(!1))},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",de,[(0,o.createVNode)(c,{icon:"check"})]),fe,(0,o.createElementVNode)("div",me,[(0,o.createVNode)(c,{icon:"angle-right"})])])),_:1})])])]))]),(0,o.createVNode)(l,{class:"start-btn",type:"info",plain:"",onClick:t[2]||(t[2]=t=>e.$emit("done",-1))},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",pe,[(0,o.createVNode)(c,{icon:"arrow-pointer"})]),he,(0,o.createElementVNode)("div",ve,[(0,o.createVNode)(c,{icon:"angle-right"})])])),_:1})],2)}n(25766);function ge(e,t){const n=e.split("."),o=t.split("."),r=Math.max(n.length,o.length);for(let a=0;a<r;a++){const e=parseInt(n[a],10),t=parseInt(o[a],10);if(e!==t)return void 0===e?-1:void 0===t||e-t>0?1:-1}return 0}var we=n(29453);const Ee=new we.Z("frostflake");S.library.add(V.qaO,V.yOZ,V.LEp);var be=(0,o.defineComponent)({props:{control:{type:Object,required:!0}},emits:["done"],setup(e,{emit:t}){const n=(0,o.toRef)(e,"control"),r=(0,o.ref)(!0),a=(0,o.ref)(!1),s=(0,o.ref)(!1),i=(0,o.ref)(!1),c=(0,o.ref)(!1),l=(0,o.ref)(""),u=async(e=!1)=>{if(r.value&&!e)return;r.value=!0,s.value=!1;const o=await n.value.check();if(!o)return a.value=!0,r.value=!1,c.value=!1,void n.value.launch();if(ge(n.value.version,"1.2.5")<0)return c.value=!0,a.value=!0,r.value=!1,void(l.value=n.value.version);c.value=!1;try{r.value=!0;const e=await n.value.authorize();if(e){let e=await n.value.listWindows();if(e=e.filter((e=>(e.title.includes("原神")||e.title.toLowerCase().includes("genshin"))&&"UnityWndClass"===e.classname)),0===e.length)return a.value=!1,r.value=!1,void(i.value=!0);t("done",e[0].hWnd)}else s.value=!0;a.value=!1}catch(u){a.value=!0,console.log(u)}r.value=!1};return(0,o.onMounted)((()=>u(!0))),{loading:r,notFound:a,enable:u,denied:s,gameNotFound:i,needUpdate:c,version:l,cVersion:Ee.version,cSize:Ee.formattedSize}}}),Ce={client:"client-fd820a",loader:"loader-c7376d",scannerCssloadLoader:"scanner-cssload-loader-e7a395",scannerCssloadLoaderInner:"scanner-cssload-loader-inner-e25de6"};const Ne={};Ne["$style"]=Ce;const ke=(0,C.Z)(be,[["render",ye],["__cssModules",Ne]]);var $e=ke,Se=n(5650),Ve=n(17398),xe=n(80048),Te=n(45450);const Me={},De=(0,Ve.o8)({a11y:{type:Boolean,default:!0},locale:{type:(0,Ve.Cq)(Object)},size:xe.Pp,button:{type:(0,Ve.Cq)(Object)},experimentalFeatures:{type:(0,Ve.Cq)(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:(0,Ve.Cq)(Object)},zIndex:Number,namespace:{type:String,default:"el"}});(0,o.defineComponent)({name:"ElConfigProvider",props:De,setup(e,{slots:t}){(0,o.watch)((()=>e.message),(e=>{Object.assign(Me,null!=e?e:{})}),{immediate:!0,deep:!0});const n=(0,Te.A)(e);return()=>(0,o.renderSlot)(t,"default",{config:null==n?void 0:n.value})}});var Be=n(45126);const Oe=(0,Ve.o8)({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var _e=n(67311),Pe=n(66384);const Fe=["textContent"],Ie={name:"ElBadge"},ze=(0,o.defineComponent)({...Ie,props:Oe,setup(e,{expose:t}){const n=e,r=(0,Pe.s)("badge"),a=(0,o.computed)((()=>n.isDot?"":(0,Se.hj)(n.value)&&(0,Se.hj)(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`));return t({content:a}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)((0,o.unref)(r).b())},[(0,o.renderSlot)(e.$slots,"default"),(0,o.createVNode)(o.Transition,{name:`${(0,o.unref)(r).namespace.value}-zoom-in-center`,persisted:""},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("sup",{class:(0,o.normalizeClass)([(0,o.unref)(r).e("content"),(0,o.unref)(r).em("content",e.type),(0,o.unref)(r).is("fixed",!!e.$slots.default),(0,o.unref)(r).is("dot",e.isDot)]),textContent:(0,o.toDisplayString)((0,o.unref)(a))},null,10,Fe),[[o.vShow,!e.hidden&&((0,o.unref)(a)||e.isDot)]])])),_:1},8,["name"])],2))}});var Ze=(0,_e.Z)(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]),Le=n(6700);const He=(0,Le.nz)(Ze);var Ue=n(77707),je=n(49434);const qe=["success","info","warning","error"],We=(0,Ve.o8)({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:je.AA,default:""},id:{type:String,default:""},message:{type:(0,Ve.Cq)([String,Object,Function]),default:""},onClose:{type:(0,Ve.Cq)(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:qe,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Ae={destroy:()=>!0};var Re=n(57035);const Ye=(0,o.defineComponent)({name:"ElMessage",components:{ElBadge:He,ElIcon:Ue.gn,...je.f5},props:We,emits:Ae,setup(e){const t=(0,Pe.s)("message"),n=(0,o.ref)(!1),r=(0,o.ref)(e.type?"error"===e.type?"danger":e.type:"info");let a;const s=(0,o.computed)((()=>{const n=e.type;return{[t.bm("icon",n)]:n&&je.Rp[n]}})),i=(0,o.computed)((()=>e.icon||je.Rp[e.type]||"")),c=(0,o.computed)((()=>({top:`${e.offset}px`,zIndex:e.zIndex})));function l(){e.duration>0&&({stop:a}=(0,Se.eM)((()=>{n.value&&d()}),e.duration))}function u(){null==a||a()}function d(){n.value=!1}function f({code:e}){e===Re.n.esc?n.value&&d():l()}return(0,o.onMounted)((()=>{l(),n.value=!0})),(0,o.watch)((()=>e.repeatNum),(()=>{u(),l()})),(0,Be.ORN)(document,"keydown",f),{ns:t,typeClass:s,iconComponent:i,customStyle:c,visible:n,badgeType:r,close:d,clearTimer:u,startTimer:l}}}),Je=["id"],Ge=["innerHTML"];function Ke(e,t,n,r,a,s){const i=(0,o.resolveComponent)("el-badge"),c=(0,o.resolveComponent)("el-icon"),l=(0,o.resolveComponent)("close");return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[2]||(t[2]=t=>e.$emit("destroy")),persisted:""},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",{id:e.id,class:(0,o.normalizeClass)([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:(0,o.normalizeStyle)(e.customStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.repeatNum>1?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,value:e.repeatNum,type:e.badgeType,class:(0,o.normalizeClass)(e.ns.e("badge"))},null,8,["value","type","class"])):(0,o.createCommentVNode)("v-if",!0),e.iconComponent?((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,class:(0,o.normalizeClass)([e.ns.e("icon"),e.typeClass])},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.iconComponent)))])),_:1},8,["class"])):(0,o.createCommentVNode)("v-if",!0),(0,o.renderSlot)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createCommentVNode)(" Caution here, message could've been compromised, never use user's input as message "),(0,o.createElementVNode)("p",{class:(0,o.normalizeClass)(e.ns.e("content")),innerHTML:e.message},null,10,Ge)],2112)):((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:0,class:(0,o.normalizeClass)(e.ns.e("content"))},(0,o.toDisplayString)(e.message),3))])),e.showClose?((0,o.openBlock)(),(0,o.createBlock)(c,{key:2,class:(0,o.normalizeClass)(e.ns.e("closeBtn")),onClick:(0,o.withModifiers)(e.close,["stop"])},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l)])),_:1},8,["class","onClick"])):(0,o.createCommentVNode)("v-if",!0)],46,Je),[[o.vShow,e.visible]])])),_:3},8,["name","onBeforeLeave"])}var Qe=(0,_e.Z)(Ye,[["render",Ke],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]),Xe=n(91239),et=n(61649),tt=n(47375),nt=n(58867);const ot=[];let rt=1;const at=function(e={},t){if(!Se.C5)return{close:()=>{}};if((0,Se.hj)(Me.max)&&ot.length>=Me.max)return{close:()=>{}};if(!(0,o.isVNode)(e)&&(0,Xe.Kn)(e)&&e.grouping&&!(0,o.isVNode)(e.message)&&ot.length){const t=ot.find((t=>{var n,o,r;return`${null!=(o=null==(n=t.vm.props)?void 0:n.message)?o:""}`===`${null!=(r=e.message)?r:""}`}));if(t)return t.vm.component.props.repeatNum+=1,t.vm.component.props.type=(null==e?void 0:e.type)||"info",{close:()=>d.component.proxy.visible=!1}}((0,Xe.HD)(e)||(0,o.isVNode)(e))&&(e={message:e});let n=e.offset||20;ot.forEach((({vm:e})=>{var t;n+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),n+=16;const{nextZIndex:r}=(0,et.C)(),a="message_"+rt++,s=e.onClose,i={zIndex:r(),...e,offset:n,id:a,onClose:()=>{st(a,s)}};let c=document.body;(0,tt.kK)(e.appendTo)?c=e.appendTo:(0,Xe.HD)(e.appendTo)&&(c=document.querySelector(e.appendTo)),(0,tt.kK)(c)||((0,nt.N)("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),c=document.body);const l=document.createElement("div");l.className=`container_${a}`;const u=i.message,d=(0,o.createVNode)(Qe,i,(0,Xe.mf)(u)?{default:u}:(0,o.isVNode)(u)?{default:()=>u}:null);return d.appContext=t||at._context,d.props.onDestroy=()=>{(0,o.render)(null,l)},(0,o.render)(d,l),ot.push({vm:d}),c.appendChild(l.firstElementChild),{close:()=>d.component.proxy.visible=!1}};function st(e,t){const n=ot.findIndex((({vm:t})=>e===t.component.props.id));if(-1===n)return;const{vm:o}=ot[n];if(!o)return;null==t||t(o);const r=o.el.offsetHeight;ot.splice(n,1);const a=ot.length;if(!(a<1))for(let s=n;s<a;s++){const e=Number.parseInt(ot[s].vm.el.style["top"],10)-r-16;ot[s].vm.component.props.offset=e}}function it(){var e;for(let t=ot.length-1;t>=0;t--){const n=ot[t].vm.component;null==(e=null==n?void 0:n.proxy)||e.close()}}qe.forEach((e=>{at[e]=(t={},n)=>(((0,Xe.HD)(t)||(0,o.isVNode)(t))&&(t={message:t}),at({...t,type:e},n))})),at.closeAll=it,at._context=null;const ct=(0,Le.oN)(at,"$message");var lt=n(87860);const ut=["width","height"];function dt(e,t,n,r,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.$style.floatContent)},[(0,o.renderSlot)(e.$slots,"default")],2),(0,o.createElementVNode)("canvas",{ref:"canvas",width:2*e.width,height:2*e.height,class:(0,o.normalizeClass)(e.$style.floatCanvas),style:(0,o.normalizeStyle)({width:`${e.width}px`,height:`${e.height}px`})},null,14,ut),(0,o.createElementVNode)("video",{ref:"video",autoplay:"",class:(0,o.normalizeClass)(e.$style.floatVideo),style:(0,o.normalizeStyle)({width:`${e.width}px`,height:`${e.height}px`}),onLeavepictureinpicture:t[0]||(t[0]=t=>e.$emit("exit"))},null,38)])}var ft=n(56662),mt=(0,ft.defineComponent)({props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},emits:["exit"],setup(){let e=!1;const t=(0,ft.ref)(null),n=(0,ft.ref)(null);let o;(0,ft.provide)("canvas",n);const r=async()=>{if(e||(o=n.value.captureStream(),t.value.srcObject=o,e=!0),null===document.pictureInPictureElement)try{await t.value.play(),await t.value.requestPictureInPicture()}catch(r){document.addEventListener("mousedown",(async()=>{await t.value.play(),await t.value.requestPictureInPicture()}),{once:!0})}};return(0,ft.onMounted)(r),(0,ft.onBeforeUnmount)((()=>{t.value&&(t.value.srcObject=null),o&&o.getTracks().forEach((e=>e.stop()));try{document.pictureInPictureElement===t.value&&document.exitPictureInPicture()}catch(e){}})),{init:r,video:t,canvas:n}}}),pt={floatContent:"float-content-f4ac7b",floatCanvas:"float-canvas-f269e2",floatVideo:"float-video-c5d6ef"};const ht={};ht["$style"]=pt;const vt=(0,C.Z)(mt,[["render",dt],["__cssModules",ht]]);var yt=vt,gt=n(33314),wt=n(28341),Et=n(40),bt=n.n(Et),Ct=(0,o.defineComponent)({components:{CIntro:B,CClient:$e,FloatWindow:yt},props:{popup:{type:Boolean,required:!0}},emits:["ready","exit"],setup(e,{emit:t}){const n=(0,o.ref)(1),r=(0,o.ref)(null),a=(0,o.ref)(null),s=new gt.p,i=(0,o.ref)(0),c=async()=>{if(r.value)try{a.value=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1}),r.value.srcObject=a.value,r.value.play(),n.value++}catch(e){console.error(e),ct.error({message:e.toString()})}},l=e=>{i.value=e,n.value++,t("ready")},u=document.createElement("canvas"),d=u.getContext("2d"),f=({x:e=0,y:t=0,w:n=0,h:o=0})=>{if(!r.value)throw new Error("No video");if(!d)throw new Error("No canvas context");const a=r.value;let s=null;n>0&&o>0?u.width===n&&u.height===o||(u.width=n,u.height=o):u.width===a.videoWidth&&u.height===a.videoHeight||(u.width=a.videoWidth,u.height=a.videoHeight);while(!s)n>0&&o>0?d.drawImage(a,e,t,n,o,0,0,u.width,u.height):d.drawImage(a,0,0,u.width,u.height),s=d.getImageData(0,0,u.width,u.height),s||console.warn("->capture FAILD");return(0,lt.Q8)(s)},m=()=>{a.value&&a.value.getTracks().forEach((e=>e.stop())),a.value=null,r.value&&r.value.pause(),r.value&&(r.value.srcObject=null),w=!1},p=()=>{m(),n.value=1};let h;const v=async(e,t,n=!0)=>{if(s&&r.value){const o=await s.toAbsolute(i.value,e,t,{dx:r.value.videoWidth,dy:r.value.videoHeight,window:n&&h||null});await s.SetCursorPos(o.x,o.y),await bt()(10),await s.mouse_event(s.MOUSEEVENTF_LEFTDOWN,0,0,0),await s.mouse_event(s.MOUSEEVENTF_LEFTUP,0,0,0),n&&(h=o.win)}},y=async(e,t,n=2e3,o=10,a=500)=>{if(s&&r.value){const c=await s.toAbsolute(i.value,e.x,e.y,{dx:r.value.videoWidth,dy:r.value.videoHeight,window:null}),l=await s.toAbsolute(i.value,t.x,t.y,{dx:r.value.videoWidth,dy:r.value.videoHeight,window:c.win});await s.SetCursorPos(c.x,c.y),await bt()(10),await s.mouse_event(s.MOUSEEVENTF_LEFTDOWN,0,0,0);for(let e=0;e<o;e++){const t=c.x+(l.x-c.x)*e/o,r=c.y+(l.y-c.y)*e/o;await s.SetCursorPos(t,r),await bt()(n/o)}await s.SetCursorPos(l.x,l.y),await bt()(a),await s.mouse_event(s.MOUSEEVENTF_LEFTUP,0,0,0)}},g={cb:()=>{}};let w=!1;const E=e=>{if(g.cb=e,r.value&&!w){const e=()=>{g.cb(),w&&r.value.requestVideoFrameCallback(e)};r.value.requestVideoFrameCallback(e),w=!0}};return(0,o.watch)(a,(e=>{var n;e&&(null===(n=e.getVideoTracks()[0])||void 0===n||n.addEventListener("ended",(()=>{m(),t("exit")})))})),(0,o.onBeforeUnmount)((()=>{m()})),{step:n,video:r,stream:a,control:s,windowId:i,requestCapture:c,afterClient:l,capture:f,stop:m,reset:p,hasPictureInPicture:wt.hasPictureInPicture,click:v,drag:y,onFrame:E}}}),Nt={floatwindow:"floatwindow-ed324f",webCapturer:"web-capturer-ef3fe5"};const kt={};kt["$style"]=Nt;const $t=(0,C.Z)(Ct,[["render",a],["__cssModules",kt]]);var St=$t},84136:function(e,t,n){"use strict";n.d(t,{v:function(){return y}});n(23662);var o=n(10311),r=n(77707),a=n(17398),s=n(30842),i=n(49434);const c=["light","dark"],l=(0,a.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,s.uc)(i.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:c,default:"light"}}),u={close:e=>e instanceof MouseEvent};var d=n(67311),f=n(66384);const m={name:"ElAlert"},p=(0,o.defineComponent)({...m,props:l,emits:u,setup(e,{emit:t}){const n=e,{Close:a}=i.f5,s=(0,o.useSlots)(),c=(0,f.s)("alert"),l=(0,o.ref)(!0),u=(0,o.computed)((()=>i.Rp[n.type])),d=(0,o.computed)((()=>[c.e("icon"),{[c.is("big")]:!!n.description||!!s.default}])),m=(0,o.computed)((()=>n.description||{[c.is("bold")]:s.default})),p=e=>{l.value=!1,t("close",e)};return(e,t)=>((0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:(0,o.unref)(c).b("fade"),persisted:""},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([(0,o.unref)(c).b(),(0,o.unref)(c).m(e.type),(0,o.unref)(c).is("center",e.center),(0,o.unref)(c).is(e.effect)]),role:"alert"},[e.showIcon&&(0,o.unref)(u)?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(r.gn),{key:0,class:(0,o.normalizeClass)((0,o.unref)(d))},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)((0,o.unref)(u))))])),_:1},8,["class"])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(c).e("content"))},[e.title||e.$slots.title?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:(0,o.normalizeClass)([(0,o.unref)(c).e("title"),(0,o.unref)(m)])},[(0,o.renderSlot)(e.$slots,"title",{},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.title),1)]))],2)):(0,o.createCommentVNode)("v-if",!0),e.$slots.default||e.description?((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:1,class:(0,o.normalizeClass)((0,o.unref)(c).e("description"))},[(0,o.renderSlot)(e.$slots,"default",{},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.description),1)]))],2)):(0,o.createCommentVNode)("v-if",!0),e.closable?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[e.closeText?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)([(0,o.unref)(c).e("close-btn"),(0,o.unref)(c).is("customed")]),onClick:p},(0,o.toDisplayString)(e.closeText),3)):((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(r.gn),{key:1,class:(0,o.normalizeClass)((0,o.unref)(c).e("close-btn")),onClick:p},{default:(0,o.withCtx)((()=>[(0,o.createVNode)((0,o.unref)(a))])),_:1},8,["class"]))],64)):(0,o.createCommentVNode)("v-if",!0)],2)],2),[[o.vShow,l.value]])])),_:3},8,["name"]))}});var h=(0,d.Z)(p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),v=n(6700);const y=(0,v.nz)(h)},36805:function(e,t,n){"use strict";n(75452)},30896:function(e,t,n){"use strict";n(30057)},30057:function(e,t,n){"use strict";n(75452),n(26238)}}]);