"use strict";(self["define"]=self["define"]||[]).push([[5275],{99877:function(){},29715:function(e,t,n){n.d(t,{l:function(){return o}});n(43928);function o(e,t,n){parent&&window!==parent&&parent.postMessage({app:"cocogoat.scanner."+n,event:e,data:JSON.parse(JSON.stringify(t))},"*")}},35200:function(e,t,n){n.d(t,{zG:function(){return f}});var o=n(35512),l=n(19390),r=n(44847),a=n(7728),s=n(28341),i=n(15748),c=n(3146),u=n(40586);function d(){const e=(0,a.G)((()=>(console.log("[worker-macro] webpack"),new a.G(new URL(n.p+n.u(1584),n.b))))),t=(0,o.Ud)(e);return{worker:t,_worker:e}}function p(){const{worker:e,_worker:t}=d(),{worker:n,_worker:o}=d(),{scannerOnImage:a,scannerOnLine:p,recognizeAchievement:m}=e,{recognizeAchievement:f,scannerOnLine:v}=n;let g=(e,t)=>{};const k=e=>{g=e},y=e=>{throw g(-99),e};t.addEventListener("error",y),o.addEventListener("error",y);const h=(async()=>{try{const[t,o]=(0,r.LS)(),a=s.hasSIMD?"ort-wasm-simd.wasm":"ort-wasm.wasm",d=s.hasSIMD?"opencv-simd.wasm":"opencv-normal.wasm";await t,await(0,r.sB)([a,d,"ppocr.ort"],(e=>g(e)),o);const p=(0,u.Z)(c.ag.amos);await Promise.all([e.setResources(l.ZP),n.setResources(l.ZP),e.initAchievementMap(i["default"],p),n.initAchievementMap(i["default"],p)]),g(100)}catch(a){throw g(-1,a),a}t.removeEventListener("error",y),o.removeEventListener("error",y),await Promise.all([e.init(),n.init()])})();return{recognizeAchievement:f,recognizeAchievement2:m,scannerOnLine:v,scannerOnLine2:p,scannerOnImage:a,initPromise:h,workerCV:e,workerOCR:n,onProgress:k}}let m;function f(){return m||(m=p()),m}},77689:function(e,t,n){n.d(t,{l:function(){return l}});var o=n(29715);function l(e,t){return o.l(e,t,"achievement")}},32223:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var o=n(11135),l=(n(97519),n(87674)),r=(n(89989),n(84136)),a=(n(36805),n(10311));const s={class:"step1"},i=(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)("点击选择成就翻页录屏"),(0,a.createElementVNode)("br"),(0,a.createTextVNode)("或拖动视频文件到这里")],-1),c={key:1,class:"top inline-status"},u={class:"list"},d=(0,a.createElementVNode)("p",null,[(0,a.createTextVNode)(" 请开启录屏并匀速从上向下翻动成就列表 "),(0,a.createElementVNode)("br"),(0,a.createTextVNode)(" 如翻页速度过快可能会导致漏识别 ")],-1),p={class:"image-content"},m={class:"overlay"},f={class:"videoprogress"};function v(e,t,n,v,g,k){const y=r.v,h=(0,a.resolveComponent)("fa-icon"),b=(0,a.resolveComponent)("float-content"),w=l.GT,C=o.Xh,V=(0,a.resolveDirective)("elloading");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.$style.listContainer)},[(0,a.createVNode)(y,{type:"warning",title:"录屏识别为未经完全验证的测试功能",description:"识别错误率可能较高，请仔细核对确认或等待完善","show-icon":"",center:"",closable:!1}),(0,a.createElementVNode)("div",s,[1===e.step?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"top",style:(0,a.normalizeStyle)(e.blob?{}:{padding:0})},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["dropzone",{"drag-over":e.dragOver}]),onDragover:t[1]||(t[1]=(0,a.withModifiers)((t=>e.dragOver=!0),["prevent","stop"])),onDragleave:t[2]||(t[2]=t=>e.dragOver=!1),onDrop:t[3]||(t[3]=(0,a.withModifiers)(((...t)=>e.onFileDrop&&e.onFileDrop(...t)),["prevent","stop"])),onClick:t[4]||(t[4]=(...t)=>e.dropzoneClick&&e.dropzoneClick(...t))},[(0,a.createElementVNode)("i",null,[(0,a.createVNode)(h,{icon:"inbox"})]),i,(0,a.createElementVNode)("input",{ref:"fileInput",class:"file-input",type:"file",accept:"video/*",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544)],34),e.blob?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:t[5]||(t[5]=t=>e.step++)},"识别")):(0,a.createCommentVNode)("",!0)],4)):(0,a.createCommentVNode)("",!0),2===e.step?((0,a.openBlock)(),(0,a.createElementBlock)("div",c,[(0,a.createVNode)(b,{"in-float":!1,capture:!1,state:1,success:e.recognized.success,fail:e.recognized.fail,scanned:e.scanned,duplicate:e.dup},null,8,["success","fail","scanned","duplicate"])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[e.blob?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(w,{key:0},{description:(0,a.withCtx)((()=>[d])),_:1})),(0,a.withDirectives)((0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("video",{ref:"videoEl",preload:"preload",playsinline:"",muted:"","webkit-playsinline":"",onTimeupdate:t[6]||(t[6]=(...t)=>e.onVideoProgress&&e.onVideoProgress(...t))},null,544)],512),[[a.vShow,e.blob]]),(0,a.withDirectives)((0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(C,{type:"circle",percentage:e.progress||0,format:e=>e.toFixed(2)+"%"},null,8,["percentage","format"])])],512),[[a.vShow,e.splitEnded]]),(0,a.withDirectives)((0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",{class:"videoprogress-in",style:(0,a.normalizeStyle)({width:e.videoProgress+"%"})},null,4)],512),[[a.vShow,e.blob&&!e.splitEnded]])])),[[V,e.loading]])])],2)])}n(16329);var g=n(28341),k=n(35200),y=n(48206),h=n(2849),b=n(25083),w=(n(99877),n(1533)),C=n.n(w),V=n(48243),N=n(87860),E=n(41151),B=n(77689);y.library.add(h.wK3);var x=(0,a.defineComponent)({components:{FloatContent:E.Z},directives:{elloading:b.t},setup(){const e=(0,a.ref)(!1),t=(0,a.ref)(!1),n=(0,a.ref)(1),o=(0,a.ref)([]),l=(0,a.ref)(0),r=(0,a.ref)(0),s=(0,a.ref)(!1),i=(0,a.ref)(null),c=(0,a.ref)(0),u=(0,a.computed)((()=>({success:o.value.filter((e=>e.success)).length,fail:o.value.filter((e=>!e.success)).length}))),d=e=>{const t=e.target;t.currentTime>0&&(c.value=t.currentTime/t.duration*100)};if(!g.ocrCompatible)return{load:e,step:n,recognized:u,scanned:r,dup:l,videoEl:i,splitEnded:s,videoProgress:c,onVideoProgress:d};const{scannerOnLine:p,scannerOnLine2:m,scannerOnImage:f}=(0,k.zG)(),v=(0,a.ref)(null),y=(0,a.ref)(null),h=(0,a.ref)(!1),b=()=>{v.value&&v.value.click()},w=e=>{if(!e.dataTransfer)return;h.value=!1;const t=e.dataTransfer.files;x(t)},E=e=>{const t=e.target.files;t&&x(t)},x=async e=>{t.value=!0,i.value&&i.value.src&&URL.revokeObjectURL(i.value.src),i.value&&(y.value=e[0],i.value.src=URL.createObjectURL(y.value)),t.value=!1},$=(0,a.computed)((()=>(u.value.success+u.value.fail+l.value)/r.value*100));(0,a.watch)([u,l],(()=>{(0,B.l)("progress",{scanned:r,...u.value,dup:l.value})}));const z=(0,V.useRoute)(),S=async({image:e,thread:t})=>{if(!e)return;let n=p;t&&s.value&&(n=m);const r=await n(e);if(r.success){const t=o.value.find((e=>{if(!e.success)return!1;const t=e;return t.achievement.id===r.achievement.id}));r.done&&!z.query.withImage||(r.images={main:(0,N.rT)(e).toDataURL("image/webp")}),t?l.value++:o.value.push(r)}else r.images={main:(0,N.rT)(e).toDataURL("image/webp")},o.value.push(r),(new Image).src=r.images.main},D=C().promise(S,2);let L=null;const T=async e=>{try{if(!e){if(L){const e=await f(L,!1,!0),t=e.reduce(((e,t)=>e+t.image.rows),0);for(const n of e)n.image.rows>t/e.length*2/3&&(D.push({image:n.image,thread:r.value%2===0}),r.value++)}return}L=e;const t=await f(e,!1,!1),n=t.reduce(((e,t)=>e+t.image.rows),0);for(const e of t)e.image.rows>n/t.length*2/3&&(D.push({image:e.image,thread:r.value%2===0}),r.value++)}catch(t){console.error(t)}},I=C().promise(T,1),R=document.createElement("canvas"),O=R.getContext("2d");function A(){if(!i.value)return;console.log("startScan"),D.killAndDrain(),R.width=i.value.videoWidth,R.height=i.value.videoHeight;let e=0;const t=()=>{if(e++,e%2==0)return;if(!i.value)return;if(!O)return;if(s.value)return;const t=i.value;O.drawImage(t,0,0,t.videoWidth,t.videoHeight);const n=(0,N.iD)(R);I.push(n)},n=()=>{t(),i.value.requestVideoFrameCallback(n)};i.value.requestVideoFrameCallback(n),i.value.addEventListener("ended",(async()=>{var e,t;await I.push(null),s.value=!0,console.log("processing"),(0,B.l)("state","processing"),await D.push({image:null,thread:!1}),(0,B.l)("state","finish"),(0,B.l)("result",{result:o.value,dup:l.value,metadata:{scanner:"RvfcScanner",capturer:"VideoCapturer",ua:navigator.userAgent,w:null===(e=i.value)||void 0===e?void 0:e.videoWidth,h:null===(t=i.value)||void 0===t?void 0:t.videoHeight}})}),{once:!0}),i.value.play()}return(0,a.watch)(n,(e=>{2===e&&A()})),{step:n,load:e,loading:t,onFileDrop:w,onFileChange:E,dropzoneClick:b,fileInput:v,dragOver:h,progress:$,recognized:u,results:o,dup:l,scanned:r,blob:y,videoEl:i,splitEnded:s,videoProgress:c,onVideoProgress:d}}}),$={listContainer:"list-container-d4947e"},z=n(14545);const S={};S["$style"]=$;const D=(0,z.Z)(x,[["render",v],["__cssModules",S]]);var L=D},84136:function(e,t,n){n.d(t,{v:function(){return k}});n(23662);var o=n(10311),l=n(77707),r=n(17398),a=n(30842),s=n(49434);const i=["light","dark"],c=(0,r.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,a.uc)(s.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:i,default:"light"}}),u={close:e=>e instanceof MouseEvent};var d=n(67311),p=n(66384);const m={name:"ElAlert"},f=(0,o.defineComponent)({...m,props:c,emits:u,setup(e,{emit:t}){const n=e,{Close:r}=s.f5,a=(0,o.useSlots)(),i=(0,p.s)("alert"),c=(0,o.ref)(!0),u=(0,o.computed)((()=>s.Rp[n.type])),d=(0,o.computed)((()=>[i.e("icon"),{[i.is("big")]:!!n.description||!!a.default}])),m=(0,o.computed)((()=>n.description||{[i.is("bold")]:a.default})),f=e=>{c.value=!1,t("close",e)};return(e,t)=>((0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:(0,o.unref)(i).b("fade"),persisted:""},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([(0,o.unref)(i).b(),(0,o.unref)(i).m(e.type),(0,o.unref)(i).is("center",e.center),(0,o.unref)(i).is(e.effect)]),role:"alert"},[e.showIcon&&(0,o.unref)(u)?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.gn),{key:0,class:(0,o.normalizeClass)((0,o.unref)(d))},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)((0,o.unref)(u))))])),_:1},8,["class"])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(i).e("content"))},[e.title||e.$slots.title?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:(0,o.normalizeClass)([(0,o.unref)(i).e("title"),(0,o.unref)(m)])},[(0,o.renderSlot)(e.$slots,"title",{},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.title),1)]))],2)):(0,o.createCommentVNode)("v-if",!0),e.$slots.default||e.description?((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:1,class:(0,o.normalizeClass)((0,o.unref)(i).e("description"))},[(0,o.renderSlot)(e.$slots,"default",{},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.description),1)]))],2)):(0,o.createCommentVNode)("v-if",!0),e.closable?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[e.closeText?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)([(0,o.unref)(i).e("close-btn"),(0,o.unref)(i).is("customed")]),onClick:f},(0,o.toDisplayString)(e.closeText),3)):((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.gn),{key:1,class:(0,o.normalizeClass)((0,o.unref)(i).e("close-btn")),onClick:f},{default:(0,o.withCtx)((()=>[(0,o.createVNode)((0,o.unref)(r))])),_:1},8,["class"]))],64)):(0,o.createCommentVNode)("v-if",!0)],2)],2),[[o.vShow,c.value]])])),_:3},8,["name"]))}});var v=(0,d.Z)(f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),g=n(6700);const k=(0,g.nz)(v)},36805:function(e,t,n){n(75452)},87674:function(e,t,n){n.d(t,{GT:function(){return G}});n(23662);var o=n(10311),l=n(67311),r=n(66384);let a=0;const s=(0,o.defineComponent)({name:"ImgEmpty",setup(){const e=(0,r.s)("empty");return{ns:e,id:++a}}}),i={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},c=["id"],u=["stop-color"],d=["stop-color"],p=["id"],m=["stop-color"],f=["stop-color"],v=["id"],g={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},k={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},y={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},h=["fill"],b=["fill"],w={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},C=["fill"],V=["fill"],N=["fill"],E=["fill"],B=["fill"],x={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},$=["fill","xlink:href"],z=["fill","mask"],S=["fill"];function D(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",i,[(0,o.createElementVNode)("defs",null,[(0,o.createElementVNode)("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[(0,o.createElementVNode)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,u),(0,o.createElementVNode)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,d)],8,c),(0,o.createElementVNode)("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[(0,o.createElementVNode)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,m),(0,o.createElementVNode)("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,f)],8,p),(0,o.createElementVNode)("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,v)]),(0,o.createElementVNode)("g",g,[(0,o.createElementVNode)("g",k,[(0,o.createElementVNode)("g",y,[(0,o.createElementVNode)("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e.ns.cssVarBlockName("fill-color-3")})`},null,8,h),(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy-14",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,b),(0,o.createElementVNode)("g",w,[(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy-10",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,C),(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy-11",fill:`var(${e.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,V),(0,o.createElementVNode)("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,N),(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy-13",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,E)]),(0,o.createElementVNode)("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,B),(0,o.createElementVNode)("g",x,[(0,o.createElementVNode)("use",{id:"Mask",fill:`var(${e.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,$),(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy",fill:`var(${e.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,z)]),(0,o.createElementVNode)("polygon",{id:"Rectangle-Copy-18",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,S)])])])])}var L=(0,l.Z)(s,[["render",D],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const T={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}};var I=n(91525);const R=["src"],O={key:1},A={name:"ElEmpty"},P=(0,o.defineComponent)({...A,props:T,setup(e){const t=e,{t:n}=(0,I.bU)(),l=(0,r.s)("empty"),a=(0,o.computed)((()=>t.description||n("el.table.emptyText"))),s=(0,o.computed)((()=>({width:t.imageSize?`${t.imageSize}px`:""})));return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)((0,o.unref)(l).b())},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(l).e("image")),style:(0,o.normalizeStyle)((0,o.unref)(s))},[e.image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:e.image,ondragstart:"return false"},null,8,R)):(0,o.renderSlot)(e.$slots,"image",{key:1},(()=>[(0,o.createVNode)(L)]))],6),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(l).e("description"))},[e.$slots.description?(0,o.renderSlot)(e.$slots,"description",{key:0}):((0,o.openBlock)(),(0,o.createElementBlock)("p",O,(0,o.toDisplayString)((0,o.unref)(a)),1))],2),e.$slots.default?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)((0,o.unref)(l).e("bottom"))},[(0,o.renderSlot)(e.$slots,"default")],2)):(0,o.createCommentVNode)("v-if",!0)],2))}});var _=(0,l.Z)(P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]),F=n(6700);const G=(0,F.nz)(_)},89989:function(e,t,n){n(75452)},25083:function(e,t,n){n.d(t,{t:function(){return c}});n(23662);var o=n(10311),l=n(91239),r=n(23066);const a=Symbol("ElLoading"),s=(e,t)=>{var n,s,i,c;const u=t.instance,d=e=>(0,l.Kn)(t.value)?t.value[e]:void 0,p=e=>{const t=(0,l.HD)(e)&&(null==u?void 0:u[e])||e;return t?(0,o.ref)(t):t},m=t=>p(d(t)||e.getAttribute(`element-loading-${(0,l.rs)(t)}`)),f=null!=(n=d("fullscreen"))?n:t.modifiers.fullscreen,v={text:m("text"),svg:m("svg"),svgViewBox:m("svgViewBox"),spinner:m("spinner"),background:m("background"),customClass:m("customClass"),fullscreen:f,target:null!=(s=d("target"))?s:f?void 0:e,body:null!=(i=d("body"))?i:t.modifiers.body,lock:null!=(c=d("lock"))?c:t.modifiers.lock};e[a]={options:v,instance:(0,r.g)(v)}},i=(e,t)=>{for(const n of Object.keys(t))(0,o.isRef)(t[n])&&(t[n].value=e[n])},c={mounted(e,t){t.value&&s(e,t)},updated(e,t){const n=e[a];t.oldValue!==t.value&&(t.value&&!t.oldValue?s(e,t):t.value&&t.oldValue?(0,l.Kn)(t.value)&&i(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[a])||t.instance.close()}}},23066:function(e,t,n){n.d(t,{g:function(){return d}});var o=n(10311),l=n(91239),r=n(5650),a=n(66384),s=n(4259);function i(e){let t;const n=(0,a.s)("loading"),l=(0,o.ref)(!1),r=(0,o.reactive)({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(e){r.text=e}function c(){const e=r.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):((0,s.IV)(e,n.bm("parent","relative")),e.removeAttribute("loading-number")),(0,s.IV)(e,n.bm("parent","hidden"))}u(),f.unmount()}function u(){var e,t;null==(t=null==(e=v.$el)?void 0:e.parentNode)||t.removeChild(v.$el)}function d(){var n;if(e.beforeClose&&!e.beforeClose())return;const o=r.parent;o.vLoadingAddClassList=void 0,l.value=!0,clearTimeout(t),t=window.setTimeout((()=>{l.value&&(l.value=!1,c())}),400),r.visible=!1,null==(n=e.closed)||n.call(e)}function p(){l.value&&(l.value=!1,c())}const m={name:"ElLoading",setup(){return()=>{const e=r.spinner||r.svg,t=(0,o.h)("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50",...e?{innerHTML:e}:{}},[(0,o.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),l=r.text?(0,o.h)("p",{class:n.b("text")},[r.text]):void 0;return(0,o.h)(o.Transition,{name:n.b("fade"),onAfterLeave:p},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createVNode)("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[(0,o.h)("div",{class:n.b("spinner")},[t,l])]),[[o.vShow,r.visible]])]))})}}},f=(0,o.createApp)(m),v=f.mount(document.createElement("div"));return{...(0,o.toRefs)(r),setText:i,removeElLoadingChild:u,close:d,handleAfterLeave:p,vm:v,get $el(){return v.$el}}}var c=n(61649);let u;const d=function(e={}){if(!r.C5)return;const t=p(e);if(t.fullscreen&&u)return u;const n=i({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(u=void 0)}});m(t,t.parent,n),f(t,t.parent,n),t.parent.vLoadingAddClassList=()=>f(t,t.parent,n);let l=t.parent.getAttribute("loading-number");return l=l?`${Number.parseInt(l)+1}`:"1",t.parent.setAttribute("loading-number",l),t.parent.appendChild(n.$el),(0,o.nextTick)((()=>n.visible.value=t.visible)),t.fullscreen&&(u=n),n},p=e=>{var t,n,o,r;let a;return a=(0,l.HD)(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(o=e.lock)&&o,customClass:e.customClass||"",visible:null==(r=e.visible)||r,target:a}},m=async(e,t,n)=>{const{nextZIndex:l}=(0,c.C)(),r={};if(e.fullscreen)n.originalPosition.value=(0,s.C2)(document.body,"position"),n.originalOverflow.value=(0,s.C2)(document.body,"overflow"),r.zIndex=l();else if(e.parent===document.body){n.originalPosition.value=(0,s.C2)(document.body,"position"),await(0,o.nextTick)();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt((0,s.C2)(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])r[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=(0,s.C2)(t,"position");for(const[o,a]of Object.entries(r))n.$el.style[o]=a},f=(e,t,n)=>{const o=(0,a.s)("loading");"absolute"!==n.originalPosition.value&&"fixed"!==n.originalPosition.value?(0,s.cn)(t,o.bm("parent","relative")):(0,s.IV)(t,o.bm("parent","relative")),e.fullscreen&&e.lock?(0,s.cn)(t,o.bm("parent","hidden")):(0,s.IV)(t,o.bm("parent","hidden"))}},11135:function(e,t,n){n.d(t,{Xh:function(){return b}});n(25766),n(65946);var o=n(10311),l=n(77707),r=n(8780),a=n(17398);const s=(0,a.o8)({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:(0,a.Cq)(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:(0,a.Cq)([String,Array,Function]),default:""},format:{type:(0,a.Cq)(Function),default:e=>`${e}%`}});var i=n(67311),c=n(66384),u=n(91239);const d=["aria-valuenow"],p={viewBox:"0 0 100 100"},m=["d","stroke","stroke-width"],f=["d","stroke","opacity","stroke-linecap","stroke-width"],v={key:0},g={name:"ElProgress"},k=(0,o.defineComponent)({...g,props:s,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=(0,c.s)("progress"),s=(0,o.computed)((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:$(t.percentage)}))),i=(0,o.computed)((()=>(t.strokeWidth/t.width*100).toFixed(1))),g=(0,o.computed)((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(i.value)/2),10):0)),k=(0,o.computed)((()=>{const e=g.value,n="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${n?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${n?"":"-"}${2*e}\n          `})),y=(0,o.computed)((()=>2*Math.PI*g.value)),h=(0,o.computed)((()=>"dashboard"===t.type?.75:1)),b=(0,o.computed)((()=>{const e=-1*y.value*(1-h.value)/2;return`${e}px`})),w=(0,o.computed)((()=>({strokeDasharray:`${y.value*h.value}px, ${y.value}px`,strokeDashoffset:b.value}))),C=(0,o.computed)((()=>({strokeDasharray:`${y.value*h.value*(t.percentage/100)}px, ${y.value}px`,strokeDashoffset:b.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),V=(0,o.computed)((()=>{let e;return e=t.color?$(t.percentage):n[t.status]||n.default,e})),N=(0,o.computed)((()=>"warning"===t.status?r.Rrw:"line"===t.type?"success"===t.status?r.yGk:r.K41:"success"===t.status?r.JrY:r.x8P)),E=(0,o.computed)((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),B=(0,o.computed)((()=>t.format(t.percentage)));function x(e){const t=100/e.length,n=e.map(((e,n)=>(0,u.HD)(e)?{color:e,percentage:(n+1)*t}:e));return n.sort(((e,t)=>e.percentage-t.percentage))}const $=e=>{var n;const{color:o}=t;if((0,u.mf)(o))return o(e);if((0,u.HD)(o))return o;{const t=x(o);for(const n of t)if(n.percentage>e)return n.color;return null==(n=t[t.length-1])?void 0:n.color}};return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)([(0,o.unref)(a).b(),(0,o.unref)(a).m(e.type),(0,o.unref)(a).is(e.status),{[(0,o.unref)(a).m("without-text")]:!e.showText,[(0,o.unref)(a).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)((0,o.unref)(a).b("bar"))},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(a).be("bar","outer")),style:(0,o.normalizeStyle)({height:`${e.strokeWidth}px`})},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([(0,o.unref)(a).be("bar","inner"),{[(0,o.unref)(a).bem("bar","inner","indeterminate")]:e.indeterminate}]),style:(0,o.normalizeStyle)((0,o.unref)(s))},[(e.showText||e.$slots.default)&&e.textInside?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)((0,o.unref)(a).be("bar","innerText"))},[(0,o.renderSlot)(e.$slots,"default",{percentage:e.percentage},(()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(B)),1)]))],2)):(0,o.createCommentVNode)("v-if",!0)],6)],6)],2)):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)((0,o.unref)(a).b("circle")),style:(0,o.normalizeStyle)({height:`${e.width}px`,width:`${e.width}px`})},[((0,o.openBlock)(),(0,o.createElementBlock)("svg",p,[(0,o.createElementVNode)("path",{class:(0,o.normalizeClass)((0,o.unref)(a).be("circle","track")),d:(0,o.unref)(k),stroke:`var(${(0,o.unref)(a).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":(0,o.unref)(i),fill:"none",style:(0,o.normalizeStyle)((0,o.unref)(w))},null,14,m),(0,o.createElementVNode)("path",{class:(0,o.normalizeClass)((0,o.unref)(a).be("circle","path")),d:(0,o.unref)(k),stroke:(0,o.unref)(V),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":(0,o.unref)(i),style:(0,o.normalizeStyle)((0,o.unref)(C))},null,14,f)]))],6)),!e.showText&&!e.$slots.default||e.textInside?(0,o.createCommentVNode)("v-if",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:(0,o.normalizeClass)((0,o.unref)(a).e("text")),style:(0,o.normalizeStyle)({fontSize:`${(0,o.unref)(E)}px`})},[(0,o.renderSlot)(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.gn),{key:1},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)((0,o.unref)(N))))])),_:1})):((0,o.openBlock)(),(0,o.createElementBlock)("span",v,(0,o.toDisplayString)((0,o.unref)(B)),1))]))],6))],10,d))}});var y=(0,i.Z)(k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]),h=n(6700);const b=(0,h.nz)(y)},97519:function(e,t,n){n(75452)}}]);